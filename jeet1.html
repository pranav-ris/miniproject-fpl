<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Focus Fuel ‚Äì JEE Main CBT Mock Test</title>
 <link rel="stylesheet" href="syllabus.css">
<style>
/* ========== GENERAL ========== */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f0f4ff;
  color: #000;
  transition: all 0.3s ease;
}
.dark {
  background: #1a1a1a;
  color: #eee;
}

/* ========== NAVBAR ========== */
.navbar {
  background: #003B8E;
  color: white;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 1000;
}
.dark .navbar { background: #001f50; }
.navbar h1, .navbar h2 { margin: 0; }
.timer { font-size: 18px; font-weight: bold; }

/* ========== MAIN LAYOUT ========== */
.main-wrapper {
  display: flex;
  flex-wrap: wrap;
  padding: 20px;
}
.question-panel {
  flex: 1 1 60%;
  min-width: 300px;
  padding-right: 20px;
}
.question-panel h2 { margin-top: 0; color: #003B8E; }
.dark .question-panel h2 { color: #a0c4ff; }
.question-box {
  background: white;
  padding: 20px;
  margin-bottom: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
.dark .question-box {
  background: #2a2a2a;
  box-shadow: 0 2px 6px rgba(255,255,255,0.1);
}
.options label { display: block; margin-bottom: 8px; cursor: pointer; }
.options input { margin-right: 8px; }
.button-row { margin-top: 15px; }
.button-row button, .nav-btns button {
  margin-right: 10px;
  padding: 8px 16px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  color: white;
}
#saveNext { background: #28a745; }
#markReview { background: #6f42c1; }
#clearResponse { background: #dc3545; }
.nav-btns { margin-top: 15px; }
.nav-btns button { background: #007bff; }

/* ========== PALETTE PANEL ========== */
.palette-panel {
  flex: 1 1 35%;
  min-width: 200px;
  background: white;
  padding: 15px;
  border-left: 1px solid #ccc;
  border-radius: 5px;
}
.dark .palette-panel { background: #2a2a2a; border-color: #555; }
.subject-tabs { margin-bottom: 15px; }
.sub-btn {
  padding: 6px 12px;
  border: none;
  background: #003B8E;
  color: white;
  margin-right: 6px;
  border-radius: 4px;
  cursor: pointer;
}
.sub-btn.active { background: #001f50; }
.palette {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 6px;
}
.palette div {
  width: 36px;
  height: 36px;
  line-height: 36px;
  text-align: center;
  border-radius: 4px;
  cursor: pointer;
  color: white;
  font-size: 14px;
}
.box-answered { background: green; }
.box-not-answered { background: red; }
.box-review { background: purple; }
.box-not-visited { background: grey; }

.dark .box-answered { background: #00ff99; }
.dark .box-not-answered { background: #ff6666; }
.dark .box-review { background: #cc99ff; }
.dark .box-not-visited { background: #888; }

.legend { margin-top: 15px; }
.legend p { margin: 4px 0; font-size: 14px; }
.legend .box { display: inline-block; width: 20px; height: 20px; margin-right: 6px; vertical-align: middle; }

.submit-btn {
  margin-top: 20px;
  width: 100%;
  padding: 10px;
  background: #dc3545;
  border: none;
  border-radius: 5px;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

/* ========== RESULT BOX ========== */
.result-box {
  margin-top: 20px;
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
.dark .result-box { background: #2a2a2a; box-shadow: 0 2px 6px rgba(255,255,255,0.1); }
.hidden { display: none; }

@media (max-width: 900px) {
  .main-wrapper { flex-direction: column; }
  .question-panel, .palette-panel { flex: 1 1 100%; }
  .palette { grid-template-columns: repeat(5, 1fr); }
}
</style>
</head>
<body>

<!-- NAVBAR -->
<header class="navbar">
    <div class="nav-left">
        <div class="logo-name">
            <img src="logo1.jpeg" class="logo" alt="Logo" style="height:40px;">
            <h2 class="site-name">Focus Fuel</h2>
        </div>
    </div>
    <div class="nav-right">
        <button id="themeToggle">üåô</button>
        <button class="logout-btn">Logout</button>
    </div>
</header>

<div class="navbar">
  <h1>Focus Fuel ‚Äì JEE Main CBT Mock Test</h1>
  <div class="timer" id="timer">03:00:00</div>
</div>

<div class="main-wrapper">
  <div class="question-panel">
    <h2 id="subject-title">Mathematics - Q1</h2>
    <div id="question-text" class="question-box">Loading question...</div>
    <div id="options-box" class="options"></div>

    <div class="button-row">
      <button id="saveNext">Save & Next</button>
      <button id="markReview">Mark for Review</button>
      <button id="clearResponse">Clear Response</button>
    </div>
    <div class="nav-btns">
      <button id="prevBtn">Previous</button>
      <button id="nextBtn">Next</button>
    </div>
  </div>

  <div class="palette-panel">
    <div class="subject-tabs">
      <button class="sub-btn active" data-subject="maths">Maths</button>
      <button class="sub-btn" data-subject="physics">Physics</button>
      <button class="sub-btn" data-subject="chem">Chemistry</button>
    </div>
    <div id="palette" class="palette"></div>
    <div class="legend">
      <p><span class="box box-answered"></span> Answered</p>
      <p><span class="box box-not-answered"></span> Not Answered</p>
      <p><span class="box box-review"></span> Marked for Review</p>
      <p><span class="box box-not-visited"></span> Not Visited</p>
    </div>
    <button id="submitTest" class="submit-btn">Submit Test</button>
  </div>
</div>

<div id="resultBox" class="result-box hidden">
  <h2>Test Results</h2>
  <p id="scoreText"></p>
  <p id="breakdown"></p>
</div>

<!-- FOOTER -->
<footer class="footer">
    <div class="footer-left">
        <img src="logo1.jpeg" class="footer-logo" style="height:40px;">
        <h3>Focus Fuel</h3>
        <p>123 Knowledge Park, Learning Avenue, Mumbai, India</p>
    </div>
    <div class="footer-center">
        <h4>Features</h4>
         <a href="syllabus.html">üìò Syllabus</a>
    <a href="video.html">üé¨ Topic Wise Videos</a>
    <a href="mocktests.html">üìù Mock Tests</a>
    <a href="units.html">üìö Units</a>
    <a href="todo.html">üìå To-Do List</a>
    </div>
    <div class="footer-right">
        <h4>Contact</h4>
        <p>Email: support@focusfuel.com</p>
        <p>Phone: +91 98765 43210</p>
    </div>
</footer>

<div class="copyright">
    ¬© 2025 Focus Fuel. All Rights Reserved.
</div>

<script>
/* ========= DARK MODE ========= */
const themeBtn = document.getElementById("themeToggle");
themeBtn.addEventListener("click", ()=>{
    document.body.classList.toggle("dark");
    themeBtn.textContent = document.body.classList.contains("dark")?"‚òÄÔ∏è":"üåô";
});

/* ========= QUESTIONS DATA ========= */

// Using the previously generated questions for each subject
    let maths = [
      { q: "If f(x) = x¬≤ + 3x + 2, what is f'(x)?", options:["2x + 3","x¬≤ + 3","2x + 2","x¬≤ + 2x"], ans: 0 },
      { q: "The sum of first 20 natural numbers is:", options:["210","200","190","220"], ans: 0 },
      { q: "The roots of x¬≤ - 5x + 6 = 0 are:", options:["2 and 3","1 and 6","3 and 4","2 and 4"], ans: 0 },
      { q: "If sin¬≤Œ∏ + cos¬≤Œ∏ = ?", options:["0","1","2","-1"], ans: 1 },
      { q: "The derivative of sin x is:", options:["cos x","-sin x","sin x","-cos x"], ans: 0 },
      { q: "If A = [[1,2],[3,4]], det(A) = ?", options:["-2","2","1","-1"], ans: 0 },
      { q: "The sum of first n odd numbers is:", options:["n¬≤","n(n+1)","2n","n¬≤ + 1"], ans: 0 },
      { q: "If f(x) = x¬≥, then f''(x) = ?", options:["6x","3x¬≤","x¬≤","6x¬≤"], ans: 0 },
      { q: "The distance between points (1,2) and (4,6) is:", options:["5","6","7","8"], ans: 0 },
      { q: "If tan Œ∏ = 1, then Œ∏ = ? (0¬∞ ‚â§ Œ∏ < 180¬∞)", options:["45¬∞","30¬∞","60¬∞","90¬∞"], ans: 0 },
      { q: "The integral of dx/x is:", options:["ln|x| + C","1/x + C","x + C","e^x + C"], ans: 0 },
      { q: "The value of sin 30¬∞ is:", options:["1/2","‚àö3/2","1","0"], ans: 0 },
      { q: "The next term in the sequence 2, 6, 12, 20, ... is:", options:["30","28","26","24"], ans: 1 },
      { q: "If f(x) = x¬≤ + 2x +1, then f(3) = ?", options:["16","15","14","17"], ans: 0 },
      { q: "If log‚ÇÇ 8 = ?", options:["2","3","4","1"], ans: 1 },
      { q: "If a + b = 5 and ab = 6, the roots of x¬≤ - 5x + 6 = 0 are:", options:["2 and 3","1 and 6","3 and 4","2 and 4"], ans: 0 },
      { q: "The area of a circle of radius 7 is:", options:["154","144","164","174"], ans: 0 },
      { q: "The sum of angles in a triangle is:", options:["180¬∞","360¬∞","90¬∞","270¬∞"], ans: 0 },
      { q: "If a line has slope 2 and passes through (1,3), equation is:", options:["y - 3 = 2(x - 1)","y - 3 = (x -1)/2","y - 1 = 2(x -3)","y - 1 = (x -3)/2"], ans: 0 },
      { q: "If sin Œ∏ = 1/2, then cos Œ∏ = ? (0¬∞ ‚â§ Œ∏ ‚â§ 90¬∞)", options:["‚àö3/2","1/2","‚àö2/2","1"], ans: 0 },
      { q: "The sum of an arithmetic progression of 10 terms with first term 2 and last term 20 is:", options:["110","100","120","105"], ans: 0 },
      { q: "The value of 2¬≥ √ó 2‚Å¥ is:", options:["2‚Å∑","2¬π¬≤","2¬π¬π","2‚Å∏"], ans: 0 },
      { q: "If y = e^x, dy/dx = ?", options:["e^x","x e^x","1/e^x","x e^{2x}"], ans: 0 },
      { q: "If x¬≤ + y¬≤ = 25, the radius of the circle is:", options:["5","25","10","‚àö25"], ans: 0 },
      { q: "The value of 0! is:", options:["0","1","-1","Undefined"], ans: 1 },
      { q: "The sum of first 50 natural numbers is:", options:["1275","1225","1250","1300"], ans: 0 },
      { q: "The roots of x¬≤ + x - 6 = 0 are:", options:["2 and -3","-2 and 3","3 and -2","1 and -6"], ans: 0 },
      { q: "The derivative of cos x is:", options:["‚àísin x","cos x","sin x","‚àícos x"], ans: 0 },
      { q: "If a = 3, b = 4, c = 5, the triangle is:", options:["Right-angled","Equilateral","Isosceles","Scalene"], ans: 0 },
      { q: "The sum of squares of first 5 natural numbers is:", options:["55","30","35","50"], ans: 0 }
    ];

    let physics = [
      { q: "A particle starts from rest and moves with constant acceleration 2 m/s¬≤. What is its velocity after 5 seconds?", options:["5 m/s","10 m/s","15 m/s","20 m/s"], ans: 1 },
      { q: "The dimensional formula of pressure is:", options:["ML‚Åª¬πT‚Åª¬≤","MLT‚Åª¬≤","M‚Å∞L‚Å∞T‚Å∞","M¬≤L‚Åª¬≤T¬≤"], ans: 0 },
      { q: "Two resistors of 4 Œ© and 6 Œ© are connected in parallel. The equivalent resistance is:", options:["2.4 Œ©","10 Œ©","4 Œ©","6 Œ©"], ans: 0 },
      { q: "A convex lens of focal length 20 cm is used. What is its power?", options:["2.0 D","5.0 D","0.5 D","10 D"], ans: 1 },
      { q: "The unit of magnetic flux is:", options:["Weber","Tesla","Joule","Farad"], ans: 0 },
      { q: "Which of the following is NOT a thermodynamic process?", options:["Isothermal","Isochoric","Isobaric","Adiabatic"], ans: 3 },
      { q: "The escape velocity from a planet depends on:", options:["Radius only","Mass only","Both mass and radius","Neither"], ans: 2 },
      { q: "The ratio of speeds of sound in oxygen to nitrogen (approx):", options:["1:1","4:3","3:4","2:1"], ans: 1 },
      { q: "An electron enters a magnetic field perpendicular to its velocity. It follows:", options:["Straight line","Circular path","Parabolic path","Random motion"], ans: 1 },
      { q: "The SI unit of electric field is:", options:["Coulomb","Volt/meter","Ampere","Newton"], ans: 1 },
      { q: "If momentum is doubled and mass remains constant, kinetic energy becomes:", options:["Same","Double","Four times","Half"], ans: 2 },
      { q: "The work done in moving a charge in an electric field depends on:", options:["Path taken","Potential difference","Magnitude of charge only","Electric flux"], ans: 1 },
      { q: "In a transformer, the power input equals power output when:", options:["Ideal transformer","Copper losses present","Iron losses present","Load is zero"], ans: 0 },
      { q: "Which radiation has the highest frequency?", options:["Microwave","Infrared","Ultraviolet","X-rays"], ans: 3 },
      { q: "The SI unit of angular momentum is:", options:["kg m/s","kg m¬≤/s","Newton","Joule"], ans: 1 },
      { q: "A wave has frequency 200 Hz and wavelength 1.5 m. Speed is:", options:["200 m/s","150 m/s","300 m/s","100 m/s"], ans: 2 },
      { q: "Capacitance of a parallel plate capacitor increases when:", options:["Plate area decreases","Plate distance increases","Dielectric constant increases","Medium is air"], ans: 2 },
      { q: "Which phenomenon proves the particle nature of light?", options:["Diffraction","Interference","Photoelectric effect","Polarisation"], ans: 2 },
      { q: "Which law states that emf is induced due to change in magnetic flux?", options:["Coulomb‚Äôs law","Gauss law","Faraday‚Äôs law","Ampere‚Äôs law"], ans: 2 },
      { q: "For elastic collision, which is conserved?", options:["Momentum only","Kinetic energy only","Both momentum & kinetic energy","Neither"], ans: 2 },
      { q: "A sound wave is:", options:["Longitudinal","Transverse","Both","Neither"], ans: 0 },
      { q: "The Bohr radius is proportional to:", options:["n¬≤","1/n","n","1/n¬≤"], ans: 0 },
      { q: "The slope of velocity-time graph represents:", options:["Displacement","Acceleration","Force","Power"], ans: 1 },
      { q: "If frequency is doubled, wavelength becomes:", options:["Same","Double","Half","Quadruple"], ans: 2 },
      { q: "A diode is used for:", options:["Amplification","Rectification","Oscillation","Modulation"], ans: 1 },
      { q: "Which is a scalar quantity?", options:["Torque","Velocity","Work","Momentum"], ans: 2 },
      { q: "The moment of inertia of a ring (radius R, mass M) about its diameter is:", options:["MR¬≤","¬Ω MR¬≤","‚Öì MR¬≤","2 MR¬≤"], ans: 1 },
      { q: "The specific heat of a substance depends on:", options:["Temperature only","Nature of substance","Pressure only","Shape"], ans: 1 },
      { q: "The refractive index of a medium depends on:", options:["Density only","Temperature only","Nature of medium","Mass"], ans: 2 },
      { q: "The charge of an electron is:", options:["1.6 √ó 10‚Åª¬π‚Åπ C","1.6 √ó 10‚Åª¬≤‚Å∞ C","3.2 √ó 10‚Åª¬π‚Åπ C","9.1 √ó 10‚Åª¬≥¬π C"], ans: 0 }
    ];

    let chemistry = [
      { q: "Which of the following is a strong acid?", options: ["HCl", "CH‚ÇÉCOOH", "HF", "H‚ÇÇCO‚ÇÉ"], ans: 0 },
      { q: "What is the hybridization of carbon in C‚ÇÇH‚ÇÑ?", options: ["sp", "sp¬≤", "sp¬≥", "sp¬≥d"], ans: 1 },
      { q: "Which gas is produced when HCl reacts with Zn?", options: ["H‚ÇÇ", "Cl‚ÇÇ", "O‚ÇÇ", "CO‚ÇÇ"], ans: 0 },
      { q: "Which element is a halogen?", options: ["F", "O", "N", "S"], ans: 0 },
      { q: "Which is the correct electronic configuration of O¬≤‚Åª?", options: ["1s¬≤2s¬≤2p‚Å∂", "1s¬≤2s¬≤2p‚Å¥", "1s¬≤2s¬≤2p¬≥", "1s¬≤2s¬≤2p¬≤"], ans: 0 },
      { q: "The molar mass of water is:", options: ["16 g/mol", "18 g/mol", "20 g/mol", "22 g/mol"], ans: 1 },
      { q: "Which is an example of a transition element?", options: ["Sc", "Na", "Mg", "Al"], ans: 0 },
      { q: "Which of these is an oxidizing agent?", options: ["KMnO‚ÇÑ", "H‚ÇÇ", "CO", "Na"], ans: 0 },
      { q: "The number of moles in 22 g of CO‚ÇÇ is:", options: ["0.5", "1", "2", "0.25"], ans: 1 },
      { q: "Which is the strongest acid among these?", options: ["HClO‚ÇÑ", "HClO‚ÇÉ", "HClO‚ÇÇ", "HClO"], ans: 0 },
      { q: "The hybridization of N in NH‚ÇÉ is:", options: ["sp", "sp¬≤", "sp¬≥", "sp¬≥d"], ans: 2 },
      { q: "Which reaction is a substitution reaction?", options: ["CH‚ÇÑ + Cl‚ÇÇ ‚Üí CH‚ÇÉCl + HCl", "H‚ÇÇ + Cl‚ÇÇ ‚Üí 2HCl", "C + O‚ÇÇ ‚Üí CO‚ÇÇ", "2Na + Cl‚ÇÇ ‚Üí 2NaCl"], ans: 0 },
      { q: "Which type of bond is present in NaCl?", options: ["Covalent", "Ionic", "Metallic", "Hydrogen"], ans: 1 },
      { q: "The oxidation number of Cr in K‚ÇÇCr‚ÇÇO‚Çá is:", options: ["+3", "+6", "+2", "+7"], ans: 1 },
      { q: "Which of the following is a noble gas?", options: ["Ne", "N‚ÇÇ", "O‚ÇÇ", "F‚ÇÇ"], ans: 0 },
      { q: "What is the shape of BF‚ÇÉ molecule?", options: ["Tetrahedral", "Trigonal planar", "Linear", "Bent"], ans: 1 },
      { q: "Which element has the highest electronegativity?", options: ["F", "O", "Cl", "N"], ans: 0 },
      { q: "Which of the following is amphoteric?", options: ["Al‚ÇÇO‚ÇÉ", "Na‚ÇÇO", "MgO", "SO‚ÇÇ"], ans: 0 },
      { q: "Which of the following is a reducing agent?", options: ["H‚ÇÇ", "O‚ÇÇ", "Cl‚ÇÇ", "KMnO‚ÇÑ"], ans: 0 },
      { q: "Which type of reaction is Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ?", options: ["Combination", "Displacement", "Decomposition", "Redox"], ans: 3 },
      { q: "Which is the main product when ethanol is oxidized with PCC?", options: ["Acetic acid", "Acetaldehyde", "Ethene", "Methanol"], ans: 1 },
      { q: "Which of the following is an example of a polymer?", options: ["PVC", "NaCl", "H‚ÇÇO", "CH‚ÇÑ"], ans: 0 },
      { q: "Which element is found in group 16?", options: ["O", "N", "Cl", "F"], ans: 0 },
      { q: "Which of the following is a carboxylic acid?", options: ["CH‚ÇÉCOOH", "CH‚ÇÉOH", "CH‚ÇÑ", "C‚ÇÇH‚ÇÜ"], ans: 0 },
      { q: "Which is used as a catalyst in the Haber process?", options: ["Fe", "Al", "Cu", "Zn"], ans: 0 },
      { q: "Which gas is released when baking soda reacts with acid?", options: ["CO‚ÇÇ", "H‚ÇÇ", "O‚ÇÇ", "N‚ÇÇ"], ans: 0 },
      { q: "Which is a saturated hydrocarbon?", options: ["CH‚ÇÑ", "C‚ÇÇH‚ÇÑ", "C‚ÇÇH‚ÇÇ", "C‚ÇÜH‚ÇÜ"], ans: 0 },
      { q: "Which of the following is paramagnetic?", options: ["O‚ÇÇ", "N‚ÇÇ", "CO‚ÇÇ", "H‚ÇÇ"], ans: 0 },
      { q: "Which is an example of an ester?", options: ["CH‚ÇÉCOOCH‚ÇÉ", "CH‚ÇÉOH", "CH‚ÇÉCOOH", "C‚ÇÇH‚ÇÜ"], ans: 0 },
      { q: "Which reaction type is the combustion of methane?", options: ["Exothermic", "Endothermic", "Isothermal", "Adiabatic"], ans: 0 }
    ];

    // Merge them: we keep 30 each
    let allQuestions = [
      ...maths, ...physics, ...chemistry
    ];
let subjectLists = { maths, physics, chem: chemistry };
Object.values(subjectLists).forEach(list => list.forEach(q => { q.selected=null; q.status="not-visited"; }));

let currentSubject="maths", currentIndex=0;
let timerInterval;

/* ========= TIMER ========= */
function startTimer() {
    let secondsLeft = 180*60;
    timerInterval = setInterval(()=>{
        let h = Math.floor(secondsLeft/3600);
        let m = Math.floor((secondsLeft%3600)/60);
        let s = secondsLeft%60;
        document.getElementById("timer").innerText = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        if(secondsLeft<=0) { clearInterval(timerInterval); submitTest(); }
        secondsLeft--;
    },1000);
}

/* ========= LOAD QUESTION ========= */
function loadQuestion() {
    let list = subjectLists[currentSubject];
    let q = list[currentIndex];
    document.getElementById("subject-title").innerText = `${currentSubject.toUpperCase()} - Q${currentIndex+1}`;
    document.getElementById("question-text").innerHTML = `<h3>${q.q}</h3>`;
    let optsHtml = "";
    q.options.forEach((opt,i)=>{
        optsHtml += `<label><input type="radio" name="opt" value="${i}" ${q.selected===i?"checked":""}> ${opt}</label>`;
    });
    document.getElementById("options-box").innerHTML = optsHtml;

    if(q.status==="not-visited") q.status="not-answered";
    updatePalette();
}

/* ========= UPDATE PALETTE ========= */
function updatePalette() {
    let paletteDiv = document.getElementById("palette");
    paletteDiv.innerHTML="";
    let list = subjectLists[currentSubject];
    list.forEach((q,idx)=>{
        let box=document.createElement("div");
        box.innerText = idx+1;
        box.className = q.status==="answered"?"box-answered":
                        q.status==="review"?"box-review":
                        q.status==="not-answered"?"box-not-answered":"box-not-visited";
        box.onclick=()=>{ currentIndex=idx; loadQuestion(); };
        paletteDiv.appendChild(box);
    });
}

/* ========= NAVIGATION ========= */
function nextQuestion(){
    if(currentIndex<subjectLists[currentSubject].length-1) currentIndex++;
    loadQuestion();
}
function prevQuestion(){
    if(currentIndex>0) currentIndex--;
    loadQuestion();
}

document.getElementById("nextBtn").onclick = nextQuestion;
document.getElementById("prevBtn").onclick = prevQuestion;

document.getElementById("saveNext").onclick = ()=>{
    let list = subjectLists[currentSubject], q=list[currentIndex];
    let sel=document.querySelector("input[name='opt']:checked");
    q.selected = sel?Number(sel.value):null;
    q.status = q.selected!==null?"answered":"not-answered";
    nextQuestion();
};
document.getElementById("markReview").onclick = ()=>{
    let list = subjectLists[currentSubject], q=list[currentIndex];
    q.status="review"; // keep selected option
    nextQuestion();
};
document.getElementById("clearResponse").onclick = ()=>{
    let list = subjectLists[currentSubject], q=list[currentIndex];
    q.selected=null;
    q.status="not-answered";
    loadQuestion();
};

/* ========= SWITCH SUBJECT ========= */
document.querySelectorAll(".sub-btn").forEach(btn=>{
    btn.onclick = ()=>{
        document.querySelectorAll(".sub-btn").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        currentSubject=btn.dataset.subject;
        currentIndex=0;
        loadQuestion();
    };
});

/* ========= SUBMIT TEST ========= */
document.getElementById("submitTest").onclick = submitTest;
function submitTest(){
    clearInterval(timerInterval);
    let score=0, correct=0, wrong=0;
    Object.values(subjectLists).forEach(list=>{
        list.forEach(q=>{
            if(q.selected!==null){
                if(q.selected===q.ans){ score+=4; correct++; }
                else { score-=1; wrong++; }
            }
        });
    });
    let attempted = correct+wrong;
    let total = maths.length + physics.length + chemistry.length;
    document.getElementById("resultBox").classList.remove("hidden");
    document.getElementById("scoreText").innerText = `Score: ${score} / ${total*4}`;
    document.getElementById("breakdown").innerHTML = `‚úî Correct: ${correct}<br>‚úò Wrong: ${wrong}<br>üü° Unattempted: ${ total - attempted }`;
    window.scrollTo(0, document.body.scrollHeight);
}

/* ========= INITIALIZE ========= */
startTimer();
loadQuestion();
</script>
 <script src="homepage.js"></script>
</body>
</html>
